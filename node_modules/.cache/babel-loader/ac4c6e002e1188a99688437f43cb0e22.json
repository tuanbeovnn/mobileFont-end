{"ast":null,"code":"var _jsxFileName = \"/Users/thoanguyen/Downloads/mobile react project/mobileProjectJS/src/pages/ProductActionPage/ProductActionPage.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport callApi from './../../utils/apiCaller';\nimport { withRouter } from 'react-router-dom';\nimport { Link } from 'react-router-dom'; // import ProductList from '../components/ProductList';\n// import {actAddProductRequest,acUpdateProductRequest,actGetProductRequest,actFetchProductsRequest} from './../actions/index';\n// import itemSelected from './../reducers/itemSelected'\n\nclass ProductActionPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = e => {\n      var target = e.target;\n      var name = target.name;\n      var value = target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.onSave = e => {\n      e.preventDefault();\n      var {\n        id,\n        txtname,\n        txtprice,\n        txtdescription,\n        txtrating,\n        txtimage\n      } = this.state;\n      var {\n        history\n      } = this.props;\n\n      if (id) {\n        //update\n        callApi(`products/${id}`, 'PUT', {\n          name: txtname,\n          price: txtprice,\n          description: txtdescription,\n          rating: txtrating,\n          image: txtimage\n        }).then(res => {\n          history.goBack();\n        });\n      } else {\n        callApi('products', 'POST', {\n          name: txtname,\n          price: txtprice,\n          description: txtdescription,\n          rating: txtrating,\n          image: txtimage\n        }).then(res => {\n          history.goBack();\n        });\n      }\n    };\n\n    this.state = {\n      id: '',\n      txtname: '',\n      txtprice: '',\n      txtdescription: '',\n      txtrating: '',\n      txtimage: ''\n    };\n  }\n\n  componentDidMount() {\n    var {\n      match\n    } = this.props;\n\n    if (match) {\n      var id = match.params.id;\n      callApi(`products/${id}`, 'GET', null).then(res => {\n        var data = res.data;\n        this.setState({\n          id: data.id,\n          txtname: data.name,\n          txtprice: data.price,\n          txtdescription: data.description,\n          txtrating: data.rating,\n          txtimage: data.image\n        });\n      });\n    }\n  }\n\n  render() {\n    // var { history } = this.props;\n    var {\n      txtname,\n      txtprice,\n      txtdescription,\n      txtrating,\n      txtimage\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"section-heading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 3\n      }\n    }, \"ADD PRODUCT\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSave,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"txtname\",\n      className: \"form-control\",\n      value: txtname,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 21\n      }\n    }, \"Price\"), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"txtprice\",\n      className: \"form-control\",\n      value: txtprice,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }\n    }, \"Description\"), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"txtdescription\",\n      className: \"form-control\",\n      value: txtdescription,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"rating\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 21\n      }\n    }, \"Rating (between 1 and 5):\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      id: \"rating\",\n      name: \"rating\",\n      min: \"1\",\n      max: \"5\",\n      name: \"txtrating\",\n      value: txtrating,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 21\n      }\n    }, \"Image\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"url\",\n      name: \"txtimage\",\n      className: \"form-control\",\n      value: txtimage,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 19\n      }\n    }, \"Save\"), /*#__PURE__*/React.createElement(Link, {\n      to: \"/manage\",\n      className: \"btn btn-danger mr-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"glyphicon glyphicon-arrow-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 19\n      }\n    }), \" Back\")));\n  }\n\n}\n\nexport default ProductActionPage;","map":{"version":3,"sources":["/Users/thoanguyen/Downloads/mobile react project/mobileProjectJS/src/pages/ProductActionPage/ProductActionPage.js"],"names":["React","Component","connect","callApi","withRouter","Link","ProductActionPage","constructor","props","onChange","e","target","name","value","setState","onSave","preventDefault","id","txtname","txtprice","txtdescription","txtrating","txtimage","state","history","price","description","rating","image","then","res","goBack","componentDidMount","match","params","data","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport { connect } from 'react-redux';\nimport callApi from './../../utils/apiCaller';\nimport { withRouter } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\n// import ProductList from '../components/ProductList';\n// import {actAddProductRequest,acUpdateProductRequest,actGetProductRequest,actFetchProductsRequest} from './../actions/index';\n// import itemSelected from './../reducers/itemSelected'\nclass ProductActionPage extends Component {\n  constructor(props){\n    super(props);\n    this.state ={\n        id:'',\n        txtname : '',\n        txtprice: '',\n        txtdescription: '',\n        txtrating: '',\n        txtimage: ''\n    };\n  }\n  componentDidMount(){\n    var {match} = this.props;\n    if (match) {\n        var id = match.params.id;\n        callApi(`products/${id}`,'GET', null).then( res =>{\n            var data = res.data;\n            this.setState({\n                id: data.id,\n                txtname : data.name,\n                txtprice: data.price,\n                txtdescription: data.description,\n                txtrating: data.rating,\n                txtimage: data.image\n            });\n        });\n    }\n  }\n  onChange = (e) =>{\n    var target = e.target;\n    var name = target.name;\n    var value = target.value;\n    this.setState({\n        [name]: value\n    });\n  }\n  onSave =(e)=>{\n    e.preventDefault();\n    var{id,txtname,txtprice,txtdescription,txtrating,txtimage} = this.state;\n    var { history } = this.props;\n    if(id){//update\n        callApi(`products/${id}`,'PUT',{\n            name: txtname,\n            price: txtprice,\n            description: txtdescription,\n            rating:txtrating,\n            image:txtimage\n        }).then(res =>{\n            history.goBack();\n        });\n    }else {\n        callApi('products','POST',{\n        name: txtname,\n        price: txtprice,\n        description: txtdescription,\n        rating:txtrating,\n        image:txtimage\n        }).then(res => {\n             history.goBack();\n        });\n    }  \n  }\n\nrender(){\n    // var { history } = this.props;\n    var {txtname,txtprice,txtdescription,txtrating,txtimage} = this.state;\n    \n return (\n  <div className=\"container\">\n  <h1 className=\"section-heading\">ADD PRODUCT</h1>\n              <form onSubmit={this.onSave}>\n                  <div className=\"form-group\">\n                    <label>Name</label>\n                    <input \n                    type=\"text\" \n                    name=\"txtname\" \n                    className=\"form-control\"\n                    value ={txtname}\n                    onChange = {this.onChange}\n                    />\n                  </div>\n              <div className=\"form-group\">\n                    <label>Price</label>\n                    <input \n                    name=\"txtprice\" \n                    className=\"form-control\"\n                    value ={txtprice}\n                    onChange = {this.onChange}\n                    />\n              </div>\n              <div className=\"form-group\">\n                    <label>Description</label>\n                    <input \n                    name=\"txtdescription\" \n                    className=\"form-control\"\n                    value ={txtdescription}\n                    onChange = {this.onChange}\n                    />\n              </div>\n              <div className=\"form-group\">\n                    <label for=\"rating\">Rating (between 1 and 5):</label>\n                    <input \n                    type=\"number\" \n                    id=\"rating\" \n                    name=\"rating\" min=\"1\" \n                    max=\"5\" \n                    name=\"txtrating\"\n                    value ={txtrating}\n                    onChange = {this.onChange}\n                    />\n              </div>\n              <div className=\"form-group\">\n                    <label>Image</label>\n                    <input \n                    type=\"url\" \n                    name=\"txtimage\" \n                    className=\"form-control\"\n                    value ={txtimage}\n                    onChange = {this.onChange}\n\n                    />\n              </div>\n                  <button type=\"submit\" className=\"btn btn-primary\">Save</button>\n                  <Link to=\"/manage\" className=\"btn btn-danger mr-5\">\n                  <i className=\"glyphicon glyphicon-arrow-left\"></i> Back\n            </Link>\n              </form> \n  </div>\n\n\n );\n}\n\n}\n\nexport default (ProductActionPage);"]},"metadata":{},"sourceType":"module"}